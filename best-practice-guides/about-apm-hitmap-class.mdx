---
id: about-apm-hitmap-class
title: 히트맵 트랜잭션 
description: 히트맵 트랜잭션 메뉴를 활용해 웹 애플리케이션 서버(Web Application Server)의 문제를 파악하고 장애를 대응하는 방법을 소개합니다. 
tags: [ 애플리케이션, 애플리케이션 모니터링, 히트맵, 트랜잭션, 히트맵 트랜잭션, APM ]
keywords: [ 애플리케이션, 애플리케이션 모니터링, 히트맵, 트랜잭션, 히트맵 트랜잭션, APM ]
---

이 문서에서는 [와탭 모니터링 서비스](https://service.whatap.io)의 기능 중 ***히트맵 트랜잭션*** 메뉴를 활용해 웹 애플리케이션 서버(Web Application Server)의 문제를 파악하고 장애를 대응하는 방법을 소개합니다. 

애플리케이션 모니터링 업무 담당자는 맡은 업무 분야에 따라 모니터링하고 싶은 요소가 다릅니다. 서버 담당자는 CPU, 메모리, 디스크, 네트워크 등의 리소스를 모니터링하며 자원을 어느 정도 사용하고 있는지 확인하길 원합니다. DB 담당자는 DB 쿼리 성능 향상을 위한 지표를 보길 원합니다. 

반면에 전통적인 모니터링 방법에서 서비스(AP) 담당자의 경우 보통 힙(Heap) 사용량과 CPU 사용량을 확인할 뿐이었습니다. 하지만 이러한 방법으로는 서비스(AP)의 문제가 무엇인지 알 수가 없습니다. 서비스(AP)에서 가장 중요한 것은 사용자의 요청에 제대로 응답하는지, 얼마나 빨리, 오류 없이 응답하는지입니다. 이를 파악하기 위해 사용자의 요청이 제대로 수행되었는지를 확인하는 과정이 필요합니다. 사용자의 요청, 한건 한건을 Request라고 하고, 이 Request를 서버에서 처리하고 사용자에게 응답하는 과정을 **트랜잭션(Transaction)**이라고 정의합니다. 

와탭 모니터링 서비스에서는 트랜잭션을 '진행 중인 트랜잭션'과 '종료된 트랜잭션'으로 구분해 서비스(AP)의 장애 현황을 파악할 수 있습니다. ***애플리케이션 대시보드*** 메뉴의 ***히트맵*** 위젯에서는 '종료된 개별 트랜잭션'을 분포도 형태의 차트로 확인할 수 있습니다. 예를 들어 1초 걸려야 하는 트랜잭션이 예상과 달리 2초 정도 소요되는 경우, 응답시간이 2배 이상 소요되는 트랜잭션을 찾아 장애 원인을 분석할 수 있습니다.

이 외에도 분포도 차트의 형태에 따라 어떤 장애가 발생한 것인지 확인하는 방법에 대해 알아보겠습니다.

## 히트맵 트랜잭션 활용하기

***히트맵 트랜잭션***은 시간의 흐름에 따라 사용자의 요청에 대한 응답 시간을 분포도 형태로 표현한 차트입니다. ***애플리케이션 대시보드***에서 히트맵 위젯의 오른쪽 위에 ![오른쪽 방향 아이콘](/img/right-arrow.svg)을 선택하면 ***히트맵 트랜잭션*** 메뉴로 진입할 수 있습니다.

![히트맵 트랜잭션](/img/best-p/best-p-hitmap-transaction.png)

가로축은 시간의 흐름, 세로축은 응답시간입니다. 매 시간마다 사용자의 요청(Request)에 대한 응답(Response) 시간을 차트 위에 사각형으로 표현합니다. 이를 통해 사용자의 요청에 정상적으로 응답했는지 파악할 수 있습니다. 히트맵 트랜잭션 차트에 사각형 상자의 색상은 다음과 같은 의미를 가지고 있습니다.

* <span calss='normal'>파랑색</span>: 정상 트랜잭션
* <span class='slow'>주황색</span>: 응답시간이 8초 정도의 느린 트랜잭션
* <span class='vslow'>빨간색</span>: 응답시간이 2배 이상으로 느린거나 응답을 거부한 상태



