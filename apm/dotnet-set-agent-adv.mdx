---
id: dotnet-set-agent-adv
title: .NET 부가 기능
description: whatap.conf 파일로 설정할 수 있는 항목을 알아보세요.
tags: [ .NET, whatap.conf ]
---

{@include: _agent-advanced-desc.mdx}

## 에이전트 이름 설정{#agentname}

:::note
* 에이전트 이름은 **Whatap .NET** 서비스를 다시 시작해야 적용됩니다.
* 에이전트 이름에 대한 자세한 내용은 [다음 설명서](dotnet-set-agent#agentname)를 참조하세요.
:::

* **object_name** <span class='type'>String</span><br/>
기본값 `{type}-{ip2}-{ip3}-{process}`<br/>
애플리케이션을 식별하는 에이전트 이름(ONAME) 체계입니다. ONAME을 토대로 OID가 생성됩니다.

* **app_name** <span class='type'>String</span><br/>
애플리케이션을 식별하는 에이전트 이름(ONAME) 체계에 이용하는 애플리케이션 이름입니다. `object_name` 옵션 중 `{type}`에 해당합니다.

* **app_process_name** <span class='type'>String</span><br/>
애플리케이션을 식별하는 에이전트 이름(ONAME) 체계에 이용하는 애플리케이션 프로세스 이름입니다. 애플리케이션 서버의 CPU, Heap Memory 등을 수집할 대상 프로세스를 설정합니다. `object_name` 옵션 중 `{process}`에 해당합니다.

* **whatap.okind** <span class='type'>String</span><br/>
에이전트가 속한 그룹 단위를 설정합니다. 여러 에이전트를 같이 설정해 해당 그룹명으로 토폴로지를 확인할 수 있습니다.

## 기능 제어

{@include: _dotnet-control-function.mdx}

## 통신

{@include: _donet-network.mdx}

## 에이전트 성능

{@include: _dotnet-php-agent-performence.mdx}

## 로그

* **log_keep_days** <span class='type'>Int</span><br/>
기본값 `7`<br/>로그 파일 보관 기간을 설정합니다.

## 트랜잭션

### 트랜잭션 프로파일링

{@include: _dotnet-transaction-profile.mdx}

### 트랜잭션 추적

* **whatap.trace_active_transaction_slow_time** <span class='type'>Millisecond</span><br/>기본값 `3000`<br/>
수집 정보를 확인하는 대시보드의 엑티브 트랜잭션 아크이퀄라이저 그래프에서 slow 구간으로 표기할 수 있는 트랜잭션 응답 시간의 기준을 설정합니다. 트랜잭션의 응답 시간이 설정 시간을 초과할 경우 slow 액티브 트랜잭션의 개수에 포함합니다.

* **whatap.trace_active_transaction_very_slow_time** <span class='type'>Millisecond</span><br/>기본값 `8000`<br/>
수집 정보를 확인하는 대시보드의 엑티브 트랜잭션 아크이퀄라이저 그래프에서 very slow 구간으로 표기할 수 있는 트랜잭션 응답 시간의 기준을 설정합니다. 트랜잭션의 응답 시간이 설정 시간을 초과할 경우 very slow 액티브 트랜잭션의 개수에 포함합니다.

* **whatap.trace_active_transaction_lost_time** <span class='type'>Millisecond</span><br/>기본값 `30000`<br/>
트랜잭션 종료를 기다리는 제한 시간입니다. 5분 안에 트랜잭션이 끝나지 않는 경우 트랜잭션을 정보를 더 이상 수집하지 않습니다. 트랜잭션의 프로파일 정보에서 'Lost Connection'를 확인할 수 있습니다.

### 트랜잭션 연계 추적

**whatap.mtrace_spec** <span class='type'>String</span><br/>
기본값: `v1`<br/>현재 인스턴스의 애플리케이션 버전을 설정합니다. 임의의 문자열을 입력할 수 있습니다. 이 데이터는 호출 통계를 위해 이용합니다.

:::note
{@include: _donet-iis-restart.mdx}
:::

## DB, SQL

* **whatap.trace_sql_normalize_enabled** <span class='type'>Boolean</span><br/>기본값 `true`<br/>
SQL 문에서 리터럴 부분을 추출해 SQL 문을 정규화하는 기능을 활성화합니다.리터럴 부분은 "#"으로 표기합니다.

* **whatap.profile_sql_resource_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
프로파일에서 SQL을 수집할 때 해당 스텝에서 사용한 CPU와 메모리 사용량을 추적합니다.

* **whatap.profile_sql_param_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
    프로파일 내역에 SQL 파라미터 정보를 기록할 때 사용합니다. 파라미터는 별도 보안 키를 입력해야 조회할 수 있습니다.
:::note
보안 키는 WAS 서버 *`%PROGRAMFILES%`\WhaTap .NET\paramkey.txt* 파일 내에 6자리로 작성합니다. *paramkey.txt* 파일이 존재하지 않는 경우 랜덤 값으로 자동 생성합니다.
:::

## HTTPC, API Call

* **whatap.profile_httpc_resource_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
프로파일에서 HTTP Call 스텝을 수집할 때 해당 스텝에서 사용한 CPU와 메모리 사용량을 추적합니다.

* **whatap.trace_httpc_normalize_enabled** <span class='type'>Boolean</span><br/>기본값 `true`<br/>
트랜잭션 내 HTTPC URL을 파싱해 정규화하는 기능을 활성화합니다.

* **whatap.trace_httpc_normalize_urls** <span class='type'>String</span><br/>기본값 `NONE`<br/>
    정규화할 HTTPC URL 패턴을 설정합니다. 호출 URL 패턴을 파싱해 패스 파라미터를 제거합니다.
:::note
예시, **/a/{v}/b**라고 선언하면 **a/123/b** → **a/{v}/b**로 치환합니다. 여러 개를 등록할 때는 쉼표(,)를 구분자로 사용합니다. 치환 패턴 정리 후 보완이 필요합니다.
:::

## 사용자 수

{@include: _dotnet-number-of-user.mdx}

## 통계

{@include: _dotnet-static.mdx}

## 토폴로지 맵

* **whatap.tx_caller_meter_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
트랜잭션 정보로 토폴로지 통계를 생성합니다.

* **whatap.sql_dbc_meter_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
Database 연결 정보로 토폴로지 통계를 생성합니다

* **whatap.httpc_host_meter_enabled** <span class='type'>Boolean</span><br/>기본값 `false`<br/>
토폴로지 맵에서 httpc outbound 정보를 표현합니다.