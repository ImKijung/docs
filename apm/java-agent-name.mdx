---
id: java-agent-name
title: Java 에이전트 이름 식별
description: 모니터링 대상을 식별하기 위해 에이전트 이름 설정 방법을 제공합니다.
tags:
    - Java
    - 에이전트 이름
---

모니터링 대상을 식별하기 위해서는 이름을 구분해야 할 필요가 있습니다. 와탭 모니터링 서비스는 애플리케이션 서버 식별을 위해 해당 서버로부터 모니터링한 정보를 수집, 활용합니다. 기본으로 활용하는 정보는 애플리케이션 서버 종류, 서버 IP, 서비스 포트입니다. 이 정보들를 조합해 애플리케이션 서버를 고유 식별자로 사용합니다. 필요에 따라 사용자가 지정한 명칭을 사용하거나 패턴을 변경해 고유한 값으로 변경해 사용할 수 있습니다.

에이전트 이름은 

:::caution
* 에이전트 이름은 프로젝트 단위로 고유해야 합니다.
* 에이전트 아이디/이름을 변경하면 이전 데이터와 연결되지 않습니다.
:::

:::note
* 와탭 모니터링 서비스에서는 모니터링 대상을 오브젝트 또는 에이전트로 혼용해서 사용합니다.
:::

## 기본 이름 결정 방식

JVM 옵션으로 `whatap.onname` 설정이 없는 경우 에이전트 이름을 다음과 같은 우선 순위로 자동 부여합니다.

1. `whatap.type`을 식별합니다.
1. `whatap.type`이 서블릿 컨테이너면 애플리케이션이 사용하는 포트를 식별합니다.
1. 포트를 식별할 수 없다면 process ID(PID)를 검색합니다.
1. 식별한 정보에 IPv4 주소 3, 4번째를 추가해 최종 이름을 결정합니다.

예를 들어, IP 주소가 10.11.**12**.**13**인 서버에서 **Tomcat**이 **8080** 포트로 시작한 경우 `TC-12-13-8080` 명칭으로 에이전트 이름을 자동 부여합니다.

## 에이전트 이름 변수

사용할 수 있는 이름 변수를 다음과 같이 제공합니다.

| 변수 | 설명 |
| -- | -- |
| 문자열 | 입력한 문자열을 사용합니다. |
| {type} | 컨테이너 타입을 자동 식별해 부여합니다. <br/> 자동 식별 대상 : JAVA, TOMCAT, JBOSS, RESIN, SPRINGBOOT, JETTY, JEUS, WEBLOGIC, WEBSPHERE, UNDERTOW, PLAY |
| {ip0} | IPv4 주소 중 첫 번째 단위를 사용합니다. (예시, **10**.11.12.13 중 **10**) |
| {ip1} | IPv4 주소 중 두 번째 단위를 사용합니다. (예시, 10.**11**.12.13 중 **11**) |
| {ip2} | IPv4 주소 중 세 번째 단위를 사용합니다. (예시, 10.11.**12**.13 중 **12**) |
| {ip3} | IPv4 주소 중 네 번째 단위를 사용합니다. (예시, 10.11.12.**13** 중 **13**) |
| {pid} | Java의 Process ID(PID)를 사용합니다. |
| {port} | 애플리케이션이 Listen 하는 포트를 사용합니다. |

## 에이전트 이름 설정

JVM 옵션을 추가해 직접 이름을 설정할 수 있습니다. 다음의 순서로 우선 순위를 가집니다.

* `-Dwhatap.name`  
    애플리케이션 명칭을 이름 변수 조합으로 설정합니다. 설정된 값이 없을 경우 기본값은 `{type}`-`{ip2}`-`{ip3}`-`{port}`입니다.

* `-Dwhatap.oname`  
    애플리케이션 명칭을 고정값으로 설정합니다

