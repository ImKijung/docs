---
id: dashboard-transactionmap
title: 트랜잭션 맵
description: 트랜잭션 맵이란 종료된 개별 트랜잭션의 응답시간을 분포도 형태로 표현한 차트입니다.
tags: [ Java, 트랜잭션 맵, 대시보드, 애플리케이션 ]
---

<!-- {@include: ../common-items/_dashboard-transactionmap.mdx}-->

홈 화면 &gt; 프로젝트 선택 &gt; <Cmdname sid="dashboard" className="uitext" /> &gt; <Cmdname sid="transaction_map" className="uitext" />

<Cmdname sid="transaction_map" className="uitext" /> 차트는 종료된 개별 트랜잭션의 응답시간을 분포도 형태로 표현한 차트입니다. 히트맵과 동일하게 분포 패턴에 따른 문제점을 발견하고 분석할 수 있습니다. <Cmdname sid="hitmap" className="uitext" />은 5초 단위로 트랜잭션을 그룹화해서 보여주지만 <Cmdname sid="transaction_map" className="uitext" />은 트랜잭션을 개별로 표시합니다.

<ImgLang img='dashboard-transaction-map.png' desc='트랜잭션 맵' />

:::info

[Service 2.2.0 릴리스](../release-notes/service/service-2.2.0)를 통해 변경된 사항은 다음과 같습니다.

- 실시간 최대 30분, 과거 시점 최대 1일까지 데이터를 조회할 수 있습니다. (기존: 실시간 최대 5분 한정)

- 과거 시점의 데이터를 조회할 경우 서버로부터 받은 데이터를 필터링할 수 있습니다.

- <Cmdname sid="TTL06209" className="uitext" /> 창을 통해 조회할 수 있는 데이터 개수가 100건에서 1000건으로 늘어났습니다.

- 트랜잭션 및 에러 개수를 실시간으로 표시합니다.

- <span class="uitext">TOP 30</span> 목록 및 차트 영역에 키보드 이벤트를 추가했습니다. 키보드 방향 버튼을 선택하면 원하는 위치로 이동할 수 있습니다.

:::

:::tip 

**히트맵 분석과 다른 점은?**

히트맵 차트는 특정 구간 동안의 트랜잭션 발생 건을 합산하여 표시합니다. 발생 수가 많은 곳을 색상으로 차이를 표현하고 있습니다. 히트맵의 경우에는 구간별 합산 데이터를 따로 저장하고 있어 비교적 긴 시간의 추이도 확인할 수 있습니다. 하지만 트랜잭션을 합산해 표시하기 때문에 개별 트랜잭션 정보를 알기 어렵습니다.

* 장기간, 대용량 트랜잭션 분포도를 분석하려면 히트맵 분석을 이용하세요.(<Cmdname sid="project_menu" className="uitext" /> &gt; <Cmdname sid="analysis" className="uitext" /> &gt; <Cmdname sid="hitmap" className="uitext" />)

* 성능 테스트를 하거나 장애 상황에서 1\~5분 이내의 트랜잭션 분포도 분석, 수행 시간 제한 없이 트랜잭션 분포도를 확인하려면 <Cmdname sid="transaction_map" className="uitext" />을 확인하세요.

:::

:::note

* <Cmdname sid="hitmap" className="uitext" /> 메뉴에 대한 자세한 내용은 <Link to="trs-view">다음 문서</Link>를 참조하세요. 

* <Cmdname sid="hitmap_transaction" className="uitext" /> 차트를 분석하는 방법에 대한 자세한 설명은 <Link to="../best-practice-guides/about-apm-hitmap-class">다음 문서</Link>를 참조하세요.

* 서버 시간보다 사용자의 PC 시간이 과거로 설정된 경우, 서버 시간과 사용자의 PC 시간이 5분 이상 차이가 날 경우 차트에 데이터가 출력되지 않을 수 있습니다.

:::

## 트레이스 분석하기

<Cmdname sid="transaction_map" />의 차트 영역을 드래그하면 세부 트랜잭션 정보를 확인할 수 있는 <Cmdname sid="TTL06209" className="uitext" /> 창이 나타납니다. 트랜잭션 목록과 각 트랜잭션 하위의 스텝 정보를 한 번에 확인할 수 있습니다.

<ImgLang img='dashboard-txmap-tx-analysis.png' desc='트레이스 분석' />

차트 영역을 드래그한 다음 <Cmdname sid="TTL06209" className="uitext" /> 창에서 조회할 수 있는 데이터는 최대 1,000건입니다.

:::note

<Cmdname sid="TTL06209" className="uitext" />에 대한 자세한 내용은 <Link to="dashboard-hitmap-trace">다음 문서</Link>를 참조하세요.

:::

## 조회 기준 변경하기

<Cmdname sid="transaction_map" />의 차트 영역, 왼쪽 위에 버튼을 선택해 데이터 조회 기준을 변경할 수 있습니다.

* <Cmdname sid="elapsed" className="uitext" />: 트랜잭션이 수행된 경과 시간 기준으로 데이터를 조회합니다.

* <Cmdname sid="httpcTime" className="uitext" />: HTTP 호출에 대한 응답 시간 기준으로 데이터를 조회합니다.

* <Cmdname sid="sqlTime" className="uitext" />: SQL 패치 시간을 기준으로 데이터를 조회합니다.

차트 영역, 오른쪽 위에 ***Error*** 버튼을 선택하면 에러가 발생한 트랜잭션만을 조회할 수 있습니다. 이 상태에서 차트의 트랜잭션을 드래그하면 에러 상태의 트랜잭션 목록이 표시된 <Cmdname sid="TTL06209" className="uitext" /> 창을 열 수 있습니다. 다시 전체 트랜잭션을 조회하려면 ***Total*** 버튼을 선택하세요.

:::note

<Cmdname sid="transaction_map" />의 차트에 표시되는 트랜잭션의 최대 개수는 2,000,000개입니다.

:::

:::tip

차트의 왼쪽 위에 ![위 방향 아이콘](/img/up-arrow.svg) 또는 ![아래 방향 아이콘](/img/down-arrow.svg) 버튼을 선택하면 Y축의 최댓값을 쉽게 변경할 수 있습니다. 또한 키보드의 위 또는 아래 방향 버튼을 눌러 같은 기능을 이용할 수 있습니다.

:::

## 과거 데이터 조회하기

<Cmdname sid="transaction_map" className="uitext" />은 실시간 모니터링을 기본 제공합니다. 기본값으로 10분 동안의 데이터를 실시간으로 조회하며, 최대 30분 동안의 데이터를 실시간으로 조회할 수 있습니다. 시간 선택자의 녹색 버튼을 클릭해 원하는 조회 시간을 선택하세요.

과거 데이터를 조회하려면 시간 선택자에서 ![일시 정지 아이콘](/img/ico-pause.svg) 버튼을 선택하세요. 비실시간 모드로 변경되며 최대 1일 동안의 트랜잭션 데이터를 조회할 수 있습니다.

<ImgLang img='txmap-past-time-selector.png' desc='과거 시간 조회' />

원하는 날짜와 시간을 설정한 다음 <Cmdname sid="apply" className="uitext" /> 버튼을 선택하세요. 사용자가 설정한 시간을 기준으로 <Cmdname sid="transaction_map" className="uitext" />의 차트 데이터를 갱신합니다.

:::note

과거 데이터를 조회한 다음 실시간 모드로 전환하려면 ![재생 아이콘](/img/ico-play-time.svg) 버튼을 선택하세요.

:::

<!-- 에이전트 확인하기-->
{@include: ../common-items/_apm-dashboard-check-agent.mdx}


## 상위 목록 확인하기

***Top 30*** 섹션에서는 <Cmdname sid="TTL06918" className="uitext" />, <Cmdname sid="TTL06101" className="uitext" />, <Cmdname sid="ip" className="uitext" /> 기준으로 트랜잭션 수행 건수가 많은 상위 30개의 목록을 표시합니다. 

<ImgLang img='dashboard-txmap-top30.png' desc='Top 30' />

목록에서 개별 항목을 선택하면 <Cmdname sid="filter" className="uitext" /> 옵션으로 추가되고 <Cmdname sid="transaction_map" className="uitext" /> 차트에 반영됩니다. 여러 개의 항목을 다중 선택할 수 있습니다.

<!-- 키보드 이벤트 활용 내용 추가-->


## 필터 추가하기

***Top 30*** 섹션의 목록에서 개별 항목을 선택해 필터를 추가할 수도 있지만 사용자가 원하는 항목을 직접 입력해 추가할 수도 있습니다. 사용자가 입력한 문자열과 일치하는 트랜잭션을 필터링합니다.

1. <Cmdname sid="filter" className="uitext" /> 옵션에서 <Cmdname sid="add_filter" className="uitext" /> 또는 <LinkImage img="ico-add.svg" className="ico" /> 버튼을 선택하세요.

1. ***+ Add*** 버튼을 선택하세요.

1. <Cmdname sid="TTL06918" className="uitext" />, <Cmdname sid="TTL06101" className="uitext" />, <Cmdname sid="ip" className="uitext" /> 중 하나를 선택한 다음 문자열을 입력하세요.

    <ImgLang img='dashboard-txmap-filter.png' desc='필터 추가' />

    ***+ Add*** 버튼을 선택해 필터 항목을 추가할 수 있습니다.

1. 원하는 필터 항목을 모두 추가했으면 ***Apply*** 버튼을 선택하세요.

추가한 필터 항목이 <Cmdname sid="transaction_map" className="uitext" /> 차트에 반영된 것을 확인하세요.


## 차트 설정하기

차트 분석을 위해 사용자가 원하는 조건으로 설정을 변경할 수 있습니다. <Cmdname sid="transaction_map" className="uitext" /> 차트 오른쪽 위에 옵션을 이용하세요.

<ImgLang img='transaction-map-setting.png' desc='트랜잭션 맵 설정' />

* ![설정 아이콘](/img/ico-setting.svg) 버튼을 선택하면 차트 관련 설정을 수정할 수 있습니다. Y축 지표를 선택할 수 있으며, 최대값을 설정할 수 있습니다. 설정을 적용하려면 ***Apply*** 버튼을 선택하세요.

  :::tip

  Y축 지표로는 <Cmdname sid="TTL06361" className="uitext" />, <Cmdname sid="TTL06364" className="uitext" />, <Cmdname sid="TTL06972" className="uitext" />, <Cmdname sid="TTL06362" className="uitext" />을 선택할 수 있습니다.

  :::

* ![위 아이콘](/img/up-arrow.svg) 또는 ![아래 아이콘](/img/down-arrow.svg) 버튼을 선택해 Y축을 확대하거나 축소할 수 있습니다.

* <Cmdname sid="error_only" className="uitext" />을 선택하면 차트에 에러 상태의 트랜잭션만 표시합니다.
