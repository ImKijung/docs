---
id: log-search
title: 로그 검색
description: 로그 모니터링의 로그 검색 메뉴를 안내합니다.
tags: [ 로그 모니터링, 로그, 로그 검색, UI ]
toc_max_heading_level: 2
---
{@include: ../common-items/_log-role-view.mdx}

<Xclude product='aws-log'>

홈 화면 > 프로젝트 선택 > ***로그*** > ***로그 검색***

</Xclude>

<InDoc product='aws-log'>

홈 화면 > 프로젝트 선택 > ***대시보드*** > ***로그 검색***

</InDoc>

***로그 검색*** 메뉴에서 통합 수집된 대량의 로그를 다양한 조건으로 검색하고 사용자가 원하는 로그를 특정할 수 있습니다. 복수의 검색 조건을 파싱된 키와 밸류로 지정할 수 있어 원하는 조건에 일치하는 로그 데이터만 추출합니다. 

동적 페이지로 검색된 로그 데이터를 정해진 라인 단위로 가져오며, 스크롤 등에 의해 하단에 닿으면 자동으로 다음 데이터를 가져와 표시합니다. {@include: ../common-items/_log-ui-main-term.mdx}

<Xclude product='postgresql,mysql'>

<ImgLang img='log-search.png' desc='로그 검색 sc' />

</Xclude>

<InDoc product='postgresql,mysql'>

<ImgLang img='db-log-search.png' desc='' />

</InDoc>

## 데이터 조회하기 

* 스크롤이 바닥에 닿으면 다음 데이터를 조회합니다. 한 번에 30,000개의 로그를 조회합니다.

* ![number-s](/img/number-03.png) 로그 테이블 상단 왼쪽에서 조회한 총 로그 개수를 확인할 수 있습니다. 

* 로그 데이터를 시간 순과 역순으로 조회할 수 있습니다. ![number-s](/img/number-03.png) 로그 테이블 상단 오른쪽에서 ***Timestamp*** ***과거 순***과 ***최근 순*** 중 원하는 조회 방식을 선택하세요.

## 로그 Content 확인하기

{@include: ../common-items/_log-ui-log-content.mdx}

* ![number-s](/img/number-03.png) 로그 테이블의 행(로그)마다 ![아이콘](/img/ic-caret-right.svg)***더보기*** 버튼이 있습니다. ![아이콘](/img/ic-caret-right.svg)***더보기*** 버튼을 선택하면 ![number-s](/img/number-04.png)처럼 해당 로그의 전체 Content를 확인할 수 있습니다.

* 로그의 태그를 선택하면 ***복사***, ***검색***, ***제외 검색***, ***인접 로그 검색***을 할 수 있는 드롭다운 메뉴가 나타납니다.

## 필터

### 필터 적용

![number-s](/img/number-01.png) 왼쪽 ***시간 선택창***에서 시간 범위를 지정할 수 있습니다. 오른쪽에서 {@include: ../common-items/_log-filter-apply.mdx} 

:::note

**필터 수식**

입력된 필터 값 아래에 있는 수식(expression)은 로그 데이터 조회 시 적용될 필터 수식 미리 보기입니다. 

:::

### 필터 수정

{@include: ../common-items/_log-filter-modify.mdx}

### 검색 키(Search Key)

왼쪽 ![number-s](/img/number-02.png) 영역에 있는 태그는 카테고리별로 파싱(parsing) 된 검색 키입니다. 태그를 선택하여 필터를 입력할 수 있습니다. <span class='logwr'>주황색</span> 태그는 카테고리, <span class='lowfg'>파란색</span> 태그는 검색 키입니다.

<InDoc product='log,postgresql,mysql'>

예를 들어 ![number-s](/img/number-02.png) 영역의 <span class='logwr'>AppLog</span>와 <span class='logwr'>AppStdOut</span>은 카테고리, 그 아래 <span class='lowfg'>oid</span>와 같은 태그는 파싱(parsing) 된 검색 키입니다. 검색 키는 ***로그*** > ***로그 설정***의 ***로그 Parser 설정***에서 파싱 로직을 등록해 설정할 수 있습니다. 

</InDoc>

<InDoc product='aws-log'>

예를 들어 ![number-s](/img/number-02.png) 영역의 <span class='logwr'>AppLog</span>와 <span class='logwr'>AppStdOut</span>은 카테고리, 그 아래 <span class='lowfg'>oid</span>와 같은 태그는 파싱(parsing) 된 검색 키입니다. 검색 키는 ***관리*** > ***로그 설정***의 ***로그 Parser 설정***에서 파싱 로직을 등록해 설정할 수 있습니다. 

</InDoc>

### 필터 입력 문법{#filter-expressions}

태그는 검색 키와 검색 값으로 구성되어있습니다. 예시로 다음과 같은 경우 검색 키는 `exception`, 검색 값은 `IllegalArgumentException` 입니다.

![](/img/log-filter-comp.png)

#### 검색 키 종류

| 검색 키 종류                         | 검색 키 포멧 | 의미        | 검색 키 예시    | 검색 값 예시               | 검색 예시                             |
| ------------------------------------ | ------------ | ----------- | --------------- | -------------------------- | ------------------------------------- |
| 문자열 키워드                        | keyword      | 파일 이름   | fileName        | /data/whatap/logs/yard.log | `fileName:/data/whatap/logs/yard.log` |
| 숫자 키워드                          | keyword.n    | 응답시간    | response_time.n | 2945                       | `response_time.n>=2945`               |
| 예약어 키워드<br/>(사전 정의 키워드) | @keyword     | 트랜잭션 ID | @txid           | 85459614215434144          | `@txid:85459614215434144`             |
| 로그 본문 키워드                     | content      | 로그 본문   | content         | 사용자 입력값              | `content: *ERROR*`                    |

:::note

**Content 검색 키**

* Content 검색 키는 인덱싱되지 않은 로그의 본문을 대상으로 검색합니다. 예를 들어 `content: *ERROR*`와 같이 입력하는 경우 로그 본문 중 `ERROR`를 포함한 로그를 검색합니다. 

* 어떤 키워드로 인덱싱을 걸어야하는지 모르는 경우 content 검색키를 활용해 문제가 되는 키워드를 포함한 로그를 식별합니다. 이후 ***로그 설정*** 메뉴의 로그 파서 설정을 통해 해당 키워드로 파서를 설정해 인덱스를 생성하는 방식으로 검색 속도를 향상시킬 수 있습니다.

:::

#### 공통 문법

|문법 종류|설명|예시|
|---|---|---|
|`+searchValue`| - 검색 값과 일치하는 로그를 검색합니다.<br/> - 연산자를 입력하지 않은 경우 + 로 동작합니다.<br/> - 값이 -123과 같이 음수로 시작하는 경우, 반드시 +-123으로 입력해야 합니다.|`exception:RuntimeException` <br/> `exception:+RuntimeException`<br/>`@txid:+-123`|
|`-searchValue`| - 검색 값과 일치하지 않는 로그를 검색합니다.<br/> - 값이 123인 로그를 제외하고 검색하고 싶은 경우 `-123`으로 입력해야합니다. |	`exception:-RuntimeException`<br/> `@txid:-123`|
|`*searchValue`|검색 값으로 시작하는 로그를 검색합니다.|`word:*hello`|
|`searchValue*`	|검색 값으로 끝나는 로그를 검색합니다.|`word:hello*`|
|`*searchValue*`|	검색 값으로 중간에 포함된 로그를 검색합니다.|`word:*hello*`|
|`*search*Value*`|	검색 값으로 포함된 로그를 검색합니다.|`word:*he*llo*`|
|`re:{regexr}+re:{regexr}`|정규표현식에 매칭되는 로그를 검색합니다.|`caller:+re:^i\.w\.a\.w\.s\.v\.r\.`|
|`-re:{regexr}`|정규표현식에 매칭되지 않는 로그를 검색합니다.|`caller:-re:^i\.w\.a\.w\.s\.v\.r\.`|

#### 검색 키가 숫자 키워드(keyword.n)인 경우 문법

다음의 문법은 검색 키가 `keyword.n` 형식인 경우에만 지원합니다.

* 검색 값으로는 숫자만 올 수 있습니다.

* `.n`키워드의 값에는 prefix를 붙이지 않습니다. `.n`이 아닌 키워드는 모두 prefix를 붙여야합니다.

  > 예, `+>searchValue`는 유효하지 않습니다.

|문법 종류|설명|예시|
|---|---|---|
|`>searchValue`|검색 값보다 큰 값이 포함된 로그를 조회합니다.|`response_time.n>3000`|
|`>=searchValue`|검색 값보다 크거나 같은 값이 포함된 로그를 조회합니다.|`response_time.n>=3000`|
|`==searchValue`|검색 값보다 같은 값이 포함된 로그를 조회합니다.|`response_time.n==3000`|
|`!=searchValue`|검색 값보다 다른 값이 포함된 로그를 조회합니다.|`response_time.n!=3000`|
|`<searchValue`|검색 값보다 작은 값이 포함된 로그를 조회합니다.|`response_time.n<3000`|
|`<=searchValue`|검색 값보다 작거나 같은 값이 포함된 로그를 조회합니다.|`response_time.n<=3000`|

## 로그 태그

## 하이라이트

{@include: ../common-items/_log-highlight.mdx}

## 테이블 설정하기

* ![number-s](/img/number-03.png) 영역 오른쪽 {@include: ../common-items/_log-ui-table-setting.mdx}

