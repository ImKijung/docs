## 서비스 화면에서 에이전트 설정하기

홈 화면 > 프로젝트 선택 > ***관리*** > ***에이전트 설정***

모니터링 대상 서버에 위치한 *whatap.ini* 파일을 직접 수정하지 않고 [와탭 모니터링 서비스](https://service.whatap.io)에서 에이전트 설정 옵션을 추가하거나 수정, 삭제할 수 있습니다.

:::note

* 이 기능은 **수정** 권한을 가진 멤버만 이용할 수 있습니다. **수정** 권한이 없는 멤버는 설정 내용을 조회만 할 수 있습니다.

* 옵션 값으로 설정할 수 있는 형식은 다음과 같습니다.

  * Boolean 형식의 값은 `true` 또는 `false`를 선택하세요.
  * 숫자 형식의 값은 숫자만 입력할 수 있습니다.
  * 텍스트(String) 형식의 값을 입력 또는 수정할 경우 옵션 셜명을 자세히 확인하세요.

* 수정할 수 없는 옵션은 선택할 수 없습니다. (예, `license`)

* 추가 또는 수정, 삭제한 옵션에 따라 에이전트를 재시작해야할 수 있습니다. 

* 애플리케이션 종류 및 에이전트의 버전에 따라 적용할 수 있는 옵션 키는 다를 수 있습니다.

:::

### 옵션 추가하기

<ProdImg img='app-set-agent-in-service' ext='.png' desc='에이전트 설정' />

1. ***에이전트 목록***에서 옵션을 추가하려는 ![숫자 1](/img/number-01.png) 에이전트를 선택하세요.

1. ![숫자 2](/img/number-02.png) ***옵션 작성***에서 추가할 옵션 항목을 선택하세요.

    ![](/img/add-agent-option.png)

    * ***검색***에서 추가할 옵션을 찾을 수 있습니다. 텍스트를 입력하면 일치하는 옵션을 필터링합니다.
    * ***직접 입력***을 선택하면 옵션 키와 값을 입력할 수 있습니다.

1. 선택한 옵션 키에 대한 설명과 기본값을 확인한 다음 설정값을 입력하세요.

    ![](/img/add-agent-option-value.png)

    * 선택한 옵션을 취소하려면 ![삭제 아이콘](/img/ico-trash.svg) 버튼을 선택하세요.
    * 옵션을 추가 설정하려면 ***+ 추가하기*** 버튼을 선택하고 2번의 과정을 반복하세요.

1. 원하는 모든 옵션을 추가했으면 화면 오른쪽 위에 ***적용*** 버튼을 선택하세요.

선택한 옵션 및 설정값을 에이전트에 적용합니다.

:::note

* 수정 중인 내용을 초기화하려면 화면 오른쪽 위에 ![초기화 아이콘](/img/ico-refresh.svg) 버튼을 선택하세요.
* 옵션값으로 아무것도 입력하지 않은 상태에서 ***적용*** 버튼을 선택하면 해당 옵션을 삭제합니다.
* 이미 추가한 옵션은 옵션 목록에서 선택할 수 없습니다.
* 애플리케이션 종류 및 에이전트의 버전에 따라 적용할 수 있는 옵션 키는 다를 수 있습니다.
* 예시로 제공한 이미지는 애플리케이션 종류 및 에이전트에 따라 다를 수 있습니다.

:::

### 옵션 수정 또는 삭제하기

<ProdImg img='modify-agent' ext='.png' desc='옵션 수정' />

화면을 위 또는 아래로 스크롤하거나 왼쪽의 옵션 카테고리를 선택해 수정 또는 삭제하려는 옵션을 찾으세요. 화면 가장 위로 이동하려면 ***옵션 추가로 이동*** 버튼을 선택하세요.

변경하려는 옵션에서 원하는 값을 선택하거나 수정하세요. 옵션을 삭제하려면 ![삭제 아이콘](/img/ico-trash.svg) 버튼을 선택하세요. 변경한 사항을 적용하려면 ***적용*** 버튼을 선택하세요.

:::note

옵션값으로 아무것도 입력하지 않은 상태에서 ***적용*** 버튼을 선택하면 해당 옵션을 삭제합니다.

:::


### 여러 에이전트에 동시 적용하기

프로젝트에 소속된 여러 개의 에이전트에 변경한 옵션을 동시에 적용할 수 있습니다.

1. 화면 오른쪽 위에 ***다중 에이전트 적용*** 체크박스를 선택하면 각 옵션 항목에 체크박스가 생성됩니다.

1. 동시에 적용하길 원하는 옵션의 체크박스를 선택하세요. 여러 개를 선택할 수 있습니다.

1. 화면 오른쪽 위에 ***적용*** 버튼을 선택하세요.

1. ***에이전트 적용*** 창이 나타나면 변경한 옵션을 적용할 에이전트를 선택하세요. 모두 선택하려면 ***전체 선택*** 체크박스를 선택하세요.

    ![](/img/multiple-apply-agent.png)

1. ***적용*** 버튼을 선택하세요.


### 에이전트 기본값 설정하기

프로젝트에 새로운 에이전트를 추가할 경우 기존의 설정값을 반복해서 적용하는 번거로움을 피하고 싶다면 프로젝트별, 업무별 기본 설정값을 만들어 적용할 수 있습니다.

![](/img/set-agent-category.png)

* ***업무 디폴트***: *whatap.ini* 파일에서 `whatap.okind` 항목으로 분류한 에이전트들에 옵션을 공통 적용할 수 있고, 적용된 옵션을 확인할 수 있습니다.

* ***프로젝트 디폴트***: 프로젝트에 소속된 모든 에이전트들에 옵션을 공통 적용할 수 있고, 적용된 옵션을 확인할 수 있습니다.

:::note

* ***업무 디폴트*** 또는 ***프로젝트 디폴트*** 탭을 선택한 다음 옵션을 적용하는 것은 에이전트를 공통으로 관리하는 데 유용합니다.

* 옵션의 적용 우선 순위는 ***업무 디폴트***, ***프로젝트 디폴트***, ***에이전트 설정*** 순입니다. 
  
  * ***프로젝트 디폴트***에서 b 옵션값을 1000을 적용하고, ***업무 디폴트***에서 b 옵션값을 2000으로 적용하면, ***업무 디폴트***에서 설정한 옵션값 2000을 우선 적용합니다.
  * ***프로젝트 디폴트***에서 b 옵션값을 아무것도 입력하지 않았고 ***업무 디폴트***에 b 옵션값에 2000이 적용된 경우에도 ***업무 디폴트***에서 설정한 옵션값을 우선 적용합니다.

:::

### 에이전트 설정 공유하기

에이전트 설정 내용을 json 형식의 파일로 저장하고 파일을 불러와 다른 에이전트에 적용할 수 있습니다.

1. 설정 내용을 json 파일로 내보낼 에이전트를 ***에이전트 목록***에서 선택하세요.

1. 화면 오른쪽 위에 ![내보내기 아이콘](/img/ico-export.svg) 버튼을 선택하세요. 

1. json 파일을 다운로드하세요.

1. ***에이전트 목록***에서 다른 에이전트를 선택하세요. 

1. 화면 오른쪽 위에 ![가져오기 아이콘](/img/ico-import.svg) 버튼을 선택하세요.

적용한 에이전트 옵션들을 확인하세요.