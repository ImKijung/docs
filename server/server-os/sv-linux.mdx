---
id: server-linux
title: Linux 및 Unix
description: Linux와 Unix 환경에서 와탭 서버 모니터링 에이전트를 설치하는 방법을 제공합니다.
tags: [ 서버, 설치하기, Linux, Unix ]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

신규 생성한 서버 모니터링 프로젝트를 선택하면 ***에이전트 설치*** 화면이 나타납니다. 프로젝트 ***관리*** > ***에이전트 설치*** 메뉴를 통해서도 가능합니다.

![](/img/server-install.png)

1. {@include: ../../apm/php-os/_repository.mdx}  
    ![number-s](/img/number-01.png) ***관리*** > ***에이전트 설치*** 화면 상단 영역의 OS 탭에서 서버 OS를 선택하세요. ![number-s](/img/number-02.png) ***와탭 리포지토리 추가*** 탭에서 해당하는 명령어를 복사하여 입력합니다.
    
    <Tabs>
    <TabItem value="du" label="Debian / Ubuntu" default>

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -v [PHP 버전 x.x] -i [php.ini의 전체 경로] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -v 7.0 -i /etc/php.ini -p httpd [-z]
    ```
    </TabItem>
    <TabItem value="co" label="CentOS">

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -e [PHP Cli] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php -p apache2
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php-fpm -p php-fpm
    ```
    </TabItem>
    <TabItem value="al" label="Amazon Linux">

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -e [PHP Cli] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php -p apache2
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php-fpm -p php-fpm
    ```
    </TabItem>
    </Tabs>
    <Tabs>
    <TabItem value="suse" label="SUSE">

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -e [PHP Cli] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php -p apache2
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php-fpm -p php-fpm
    ```
    </TabItem>
    <TabItem value="fb" label="FreeBSD">

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -e [PHP Cli] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php -p apache2
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php-fpm -p php-fpm
    ```
    </TabItem>
    <TabItem value="xs" label="XenServer">

    ```bash title=SH
    $ /usr/whatap/php/install.sh -l [발급된 라이센스 key] -s [발급된 서버 IP] -e [PHP Cli] -p [프로세스명]
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php -p apache2
    $ /usr/whatap/php/install.sh -l xxxxx -s 1.1.1.1/2.2.2.2 -e /opt/php/bin/php-fpm -p php-fpm
    ```
    </TabItem>
    </Tabs> 

1. {@include: ../../apm/php-os/_pcg-install.mdx}

1. **설정 스크립트**를 실행하세요.  
    ***관리*** > ***에이전트 설치*** > ***서버 모니터링 시작하기*** 탭으로 이동하여 명령어를 발급 받거나, 하단의 명령어에 프로젝트 액세스 키와 서버 IP를 추가하여 실행하세요.

    ```bash
    echo "license=[발급된 라이선스키]" |sudo tee /usr/whatap/infra/conf/whatap.conf
    echo "whatap.server.host=[할당된 와탭 서버 IP]" |sudo tee -a /usr/whatap/infra/conf/whatap.conf
    echo "createdtime=`date +%s%N`" |sudo tee -a /usr/whatap/infra/conf/whatap.conf
    sudo service whatap-infra restart
    ```

    :::note
    에이전트에서 수집 서버로 **TCP 6600** 포트 접근이 가능해야 합니다.(TCP 아웃바운드)
    :::