---
id: site-mng
title: 사이트 관리자 가이드 
description: 사이트 관리자 가이드를 제공합니다.
tags: [ 운영 안내 ]
---

본 문서는 와탭 수집 서버 관리자를 대상으로 사이트 관리자 기능에 대해서 설명합니다.

## 1. 사이트 관리 메뉴 진입

와탭 모니터링 사이트에 로그인 후, 화면 우상단의 계정 아이콘을 클릭하여 노출되는 메뉴에서 “사이트 관리" 메뉴 링크를 클릭하여 진입합니다.

:::note
본 메뉴 진입은 수집 서버의 구축 단계에서 사이트 관리자로 지정된 계정으로 제한됩니다.
:::

![smng](/img/on-prem/BA_2022-09-06_13.17.53.png)

## 2. 메뉴 구성
사이트 관리자의 메뉴는 수집 서버의 구성 및 관리와 관련된 기능, 사용자 및 프로젝트 관리를 위한 기능, 사용자 지원을 위한 기능, 비즈니스적 통계 정보를 확인하기 위한 기능으로 구성됩니다.

## 3. 비즈니스 보드
모니터링 시스템을 활용하는 고객 유입 및 이탈 현황을 추적하기 위한 비즈니스 관점의 지표로 구성된 대시보드입니다.

:::note
빌링 시스템을 구축한 경우에만 활용 가능합니다.
:::

![smng2](/img/on-prem/BA_2022-09-06_13.29.23.png)

**월간 지표**
- 누적 유료 고객 - 유료 고객 (청구 대상 계정) 총 수
- 신규 유료 고객 - 누적 유료 고객 중 순증 고객 수
- 해지 고객 - 기존 유료 고객 중 순감 고객 수
- 에이전트 설치 현황 - 프로젝트 상태 별 신규 에이전트 설치 수


**주간 지표**
- 랜딩 신규 유입 - GA 사용자 수, GA 신규 사용자 수
- 계정 생성 - 신규 계정 생성, 신규 도메인 계정 생성
- 프로젝트 생성 - 신규 프로젝트의 청구 계정 수 및 신규 청구 계정 수
  - 전체 및 제품 별 프로젝트 생성 수 (청구 계정 수, 신규 청구 계정 수)
- 에이전트 생성 - 신규 프로젝트의 에이전트 설치 청구 계정 수 및 신규 청구 계정 수
  - 전체 및 제품 별 에이전트 생성 수 (청구 계정 수, 신규 청구 계정 수)
- SaaS 유료 구독 현황 - 유료 구독 프로젝트


**추이 지표**
- 생성 추이
  - 신규 계정, 신규 도메인 계정
  - 신규 프로젝트 생성 수, 신규 도메인 계정에 의한 프로젝트 생성 수
  - 신규 에이전트 설치 수, 신규 도메인 계정에 의한 신규 에이전트 설치 수


**현황 지표**
- 프로젝트 수 - 플랫폼 및 상태 별 프로젝트 수 증감
- 에이전트 수 - 플랫폼 및 상태 별 프로젝트의 에이전트 수 증감
- 알림 발생 이력 - 최근 1시간의 프로젝트 별 알림 발생 건수


## 4. 계정
사용자 계정 목록을 조회하고 관리하기 위한 기능을 제공합니다.
![smng3](/img/on-prem/005.accounts.png)
화면 우상단의 이메일 입력 필터를 이용하여 원하는 계정만 조회 가능합니다. 이메일 입력 필터는 부분 일치 조회를 수행합니다.

계정 ID, 이메일, 이름, 전화번호, 회사명, 계정 생성일 등의 정보를 관리합니다.

:::note
해당 계정으로 생성된 프로젝트 수, 플랫폼 별 프로젝트 수 등의 정보를 부가적으로 제공합니다.
집계 정보의 최신화를 필요로 합니다.
:::
상세 버튼을 통해 계정과 관련된 상세 정보의 조회 및 관리가 가능합니다.

## 5. 계정 상세 화면
계정 상세 화면에는 계정과 관련된 상세 정보가 표시되며, 화면 표시 언어, 알림 수신 언어, MFA 인증 주기를 변경할 수 있습니다.

사용자가 MFA를 활용 중, OTP 매체를 유실하였거나, MFA 인증을 해소할 수 없을 때 사이트 관리자가 본 페이지를 통해 MFA를 비활성화 할 수 있는 버튼이 노출됩니다.

사용자가 비밀번호를 유실한 경우, “리셋" 버튼을 클릭하면 사용자에게 이메일로 초기화 된 비밀번호가 발송되고, 이후 최초 로그인 시, 비밀번호 재설정을 요구하게 됩니다.

사용자 계정을 삭제하고자 할 경우, 본 페이지의 “삭제" 버튼을 통해 삭제할 수 있습니다.
![006.account.png](/img/on-prem/006.account.png)
중단에는 사용자 단위로 플랫폼 별 트라이얼 기간을 활용할 수 있도록, 플랫폼 단위 트라이얼 기간 관리 정보가 표시됩니다.

플랫폼 별로 최초 프로젝트의 트라이얼 시작 시점, 종료 시점 등이 노출되며, “리셋" 버튼을 통해 트라이얼을 다시 체험할 수 있도록 설정할 수 있는 기능을 제공합니다.

그 외 계정의 프로젝트 생성 권한, 추가 프로젝트 생성 시 자동으로 “유료 구독" 상태로 변경 하기 위한 설정, 계정이 만들 수 있는 최대 프로젝트 개수, 데이터의 보관 기간과 관련한 설정이 가능합니다.
![스크린샷 2022-09-06 18.51.29.png](/img/on-prem/BA_2022-09-06_18.51.29.png)
하단에는 해당 계정이 참조할 수 있는 프로젝트 목록이 표시됩니다.

프로젝트 그룹 혹은 조직을 설정한 경우 최상단에 조직 탭이 표시되고 아래에 프로젝트명, 플랫폼 및 선택된 계정이 해당 프로젝트에 대해 보유한 권한 목록, 프로젝트의 상태 (트라이얼, 유료)가 표시됩니다.  
![스크린샷 2022-09-06 18.51.45.png](/img/on-prem/BA_2022-09-06_18.51.45.png)

권한 우측의 편집 버튼 클릭 시, 해당 프로젝트에 대한 사용자의 권한 편집이 가능합니다.

:::note
권한 편집 시, 결제 / 멤버 관리 권한은 프로젝트의 멤버 중 최소 1명에 부여되어 있어야 합니다.
프로젝트 계층관리를 활용하는 경우, 조직 또는 그룹에 해당 권한 보유자가 있을 경우는 해당 권한을 승계받게 되므로, 조직 및 그룹 권한을 통해 관리하는 것을 권장합니다.

:::

![009.role.png](/img/on-prem/009.role.png)

“상태” 컬럼의 dropdown 메뉴를 통해 프로젝트의 상태를 변경할 수 있습니다.

:::note
사용자가 직접 사용자 화면을 통해 프로젝트를 유료로 변경하였으나, 사용자의 의도와 달라 사이트 관리자에게 트라이얼로의 변경을 요청한 경우, 혹은 프로젝트가 사용 제한 상태가 되어 상태 변경을 요청받은 경우에 활용하게 됩니다.
빌링 시스템을 활용하는 경우, 사용자 화면을 통한 유료로의 변경은 빌링 시스템에 유료 구독 정보를 등록하게 되어 정상 과금 대상이 됩니다만, 본 화면을 통해 임의로 유료로 변경한 경우에는 정상 과금되지 않을 수 있으므로 본 화면을 통해 “유료"로 변경하지 말아야 합니다.

:::

![010.pstatus.png](/img/on-prem/010.pstatus.png)

“상세” 버튼을 통해 프로젝트 상세 정보 화면으로 이동할 수 있습니다.

프로젝트 상세 화면은 “프로젝트" 절에 기술합니다.

## 6. 리전

와탭 수집 서버는 다중 리전을 관리할 수 있는 구성 형태를 가집니다.

:::note
와탭 수집 서버는 MSA 구조로 구성되고, 데이터 저장소를 다중 리전으로 관리 할 수 있습니다.
리전에는 Gateway, Keepr, Yard, Proxy 가 기본 마이크로 애플리케이션으로 탑재되는 구성으로, 논리적 집합으로 데이터 저장소로 이해할 수 있습니다.

:::

최상단에는 리전 목록을 표시합니다.

리전 키, 표시명, Gateway명, 프록시 주소, 포트는 관리용 목적의 메타 데이터 입니다.

제품 종류/플랫폼은 해당 리전에서 사용할 수 있는 서비스 유형을 명시합니다.

## 7. 공개/사설 리전

일반적인 리전은 공개(public) 리전으로 지정되어, 모든 사용자가 프로젝트 생성 시 선택 가능합니다. 사용자는 데이터 수집 대상에 따라 인접 지역 혹은 인접 클라우드 벤더 등을 선택할 수 있습니다.

사설(private)로 지정된 리전은 특정 사용자에게만 노출되도록 설정됩니다. 리전 목록의 리전 “키”를 클릭하면 중단에 해당 리전에 접근 가능하나 계정 목록이 표시됩니다.

![011.region.png](/img/on-prem/011.region.png)

리전에 접근 가능한 계정을 추가하고자 할 경우, “리전 접근 제어"의 검색 필드에 이메일을 입력하면 계정 정보가 조회되고, 우측의 “수정" 버튼을 클릭하면 리전 접근 정보 편집을 위한 팝업이 표시되어 접근 허용 대상을 편집할 수 있습니다.

![012.region_acl.png](/img/on-prem/012.region_acl.png)

## 8. 리전 정보 편집

리전 정보를 수정하고자 할 경우, 최상단 리전 목록의 “수정" 버튼을 클릭하여 정보를 편집할 수 있습니다.

![013.region_edit.png](/img/on-prem/013.region_edit.png)

 리전 삭제 시에는, 최상단 리전 목록의 “삭제" 버튼을 클릭합니다.

:::note
리전 삭제 시에는 논리적으로 관리되는 정보만 삭제됩니다. 물리적으로 구성된 리전의 마이크로 애플리케이션이 자동으로 삭제되지는 않습니다.

:::

## 9. 서버

수집 서버의 마이크로 애플리케이션 구성 중, Front 에서 접근 가능한 요소들을 표시합니다.

구성 요소로는 Front, Account, ML, Report, 리전(Gateway), Crane(이상탐지 및 히트맵 알림) 이 있습니다.

![014.server.png](/img/on-prem/014.server.png)

리전 우측의 “화살표”를 클릭하면 리전의 상세 정보 화면으로 이동합니다.

리전을 구성하는 마이크로 애플리케이션인 Keeper, Proxy, Yard 서버의 정보가 표시됩니다.

하단에는 해당 리전에 할당된 프로젝트 목록이 표시됩니다.

![015.server_detail.png](/img/on-prem/015.server_detail.png)

![016.server_detail_projects.png](/img/on-prem/016.server_detail_projects.png)

## 10. Proxy의 에이전트 접속 정보

Proxy 의 “Agents” 버튼을 클릭하면, 해당 프록시에 데이터를 전송중인 에이전트 정보를 표시합니다.

:::note
yard.conf 설정의 selfmon.enabled=true 로 설정된 경우에만 조회됩니다.

:::

![017.server_agents.png](/img/on-prem/017.server_agents.png)

## 11. Yard 기능

Yard 컨트롤과 관련된 기능으로 신규 프로젝트 할당 여부 컨트롤, DB I/O 체크, Yard 설정 변경, 알림 설정의 기능을 제공합니다.

:::note
수퍼 관리자 체크 기능은 폐기 되었습니다.

:::

“Check DBIO” 버튼 클릭 시, Yard의 Read/Write IO 성능 정보가 표시됩니다.

하단에는 프로젝트 단위의 Read/Write 성능 정보가 표시됩니다.

:::note
yard.conf 설정의 selfmon.enabled=true 로 설정된 경우에만 조회됩니다.

:::

![018.DBIO.png](/img/on-prem/018.DBIO.png)

우측의 “Detail” 정보를 클릭하면, 프로젝트 단위의 성능 정보가 표시됩니다.

![019.DBIO_project.png](/img/on-prem/019.DBIO_project.png)

Yard 목록의 “yard.conf” 버튼 클릭 시, yard.conf 설정 정보가 편집 가능합니다.

![020.yardconf.png](/img/on-prem/020.yardconf.png)

![021.yardconf2.png](/img/on-prem/021.yardconf2.png)

Yard 목록의 “알림 정지 설정" 버튼 클릭 시, 해당 Yard에 Master로 할당된 모든 프로젝트의 알림 발행 중지 설정을 제어할 수 있습니다.

:::note
Yard 단위의 메인티넌스 작업이나, 오탐 알림 발행을 긴급 차단해야 할 경우 활용합니다.

:::

![022.yard_alert_conf.png](/img/on-prem/022.yard_alert_conf.png)

## 12. 프로젝트

플랫폼 별 프로젝트 사용 현황 정보 및 프로젝트 목록 조회, 프로젝트 상세 정보를 관리합니다.

상단에는 플랫폼 별 사용량과 관련한 요약 정보를 제공합니다.

:::note
Core 수 정보는 단순 합산 정보로 수집 서버 전체의 과금 대상 정보로 활용하지 않습니다.

:::

![023.projects.png](/img/on-prem/023.projects.png)

하단에는 프로젝트 목록을 표시합니다. 프로젝트명 또는 프로젝트 코드로 검색할 수 있으며, 프로젝트 상태 별로 필터링 할 수 있습니다.

![024.projects2.png](/img/on-prem/024.projects2.png)

“내보내기” 버튼 클릭을 통해 프로젝트 목록을 엑셀 파일 형식으로 다운로드 할 수 있습니다.

![025.projects_export.png](/img/on-prem/025.projects_export.png)

“$$ 유료 전환” 버튼 클릭을 통해 유료 상태로 변경된 프로젝트 목록을 엑셀 파일 형식으로 다운로드 할 수 있습니다.

:::note
현재 동작하지 않는 기능입니다.

:::

![025.projects_subscription_export.png](/img/on-prem/025.projects_subscription_export.png)

프로젝트 목록의 “상세" 화살표 버튼을 통해 프로젝트의 상세 정보를 확인할 수 있습니다.

## 13. 프로젝트 상세

프로젝트 정보 및 프로젝트가 할당된 Yard의 데이터 보관 기간 정보 및 할당된 Yard 목록, 프로젝트 관련 권한을 보유한 사용자 목록을 표시합니다.

![027.project_detail.png](/img/on-prem/027.project_detail.png)

“상태" 선택 메뉴를 통해 프로젝트의 상태를 변경할 수 있습니다.

:::note
사용자가 직접 사용자 화면을 통해 프로젝트를 유료로 변경하였으나, 사용자의 의도와 달라 사이트 관리자에게 트라이얼로의 변경을 요청한 경우, 혹은 프로젝트가 사용 제한 상태가 되어 상태 변경을 요청받은 경우에 활용하게 됩니다.
빌링 시스템을 활용하는 경우, 사용자 화면을 통한 유료로의 변경은 빌링 시스템에 유료 구독 정보를 등록하게 되어 정상 과금 대상이 됩니다만, 본 화면을 통해 임의로 유료로 변경한 경우에는 정상 과금되지 않을 수 있으므로 본 화면을 통해 “유료"로 변경하지 말아야 합니다.

:::

하단에 그룹 멤버 및 프로젝트 멤버 목록과 부여된 권한을 표시합니다.

본 화면의 “사용자 초대" 버튼을 통해 계정이 생성된 사용자를 초대할 수 있고, 목록 우측의 권한 편집 버튼을 통해 사용자 할당 권한을 변경할 수 있습니다.

초대된 사용자를 제거하고자 할 때는 “삭제" 버튼을 클릭하여, 프로젝트 또는 그룹 멤버에서 제거 할 수 있습니다.

:::note
프로젝트 멤버로 표시된 사용자는 프로젝트에 직접 권한이 부여된 상태입니다.
그룹 멤버로 표시된 사용자는 프로젝트가 포함된 그룹에 권한이 부여된 계정으로, 그룹 멤버로의 권한을 하위 프로젝트에 대하여도 승계받은 상태가 됩니다.

:::

![028.project_detail.png](/img/on-prem/028.project_detail.png)

프로젝트의 알림 수신 설정을 표시합니다.

:::note
현재 동작하지 않는 기능입니다.

:::

![029.project_detail.png](/img/on-prem/029.project_detail.png)

## 14. 경고 알림

### 14.1. 알림 템플릿
알림에 활용되는 템플릿 관리 기능을 제공하여, 알림 포맷을 커스터마이징 하여 변경할 필요가 있을 경우 활용합니다. 

알림 유형 별로 이메일, 문자발송, 모바일 앱 푸쉬, SNS 채널, 알림 발송 서버 플러그인 용 템플릿을 개별로 지정할 수 있습니다. 

:::note
plugin은 알림 발송 서버에 플러그인 코드가 적용되어 있는 경우, 해당 플러그인에서 활용되는 템플릿 입니다.
:::

![030.alert_template.png](/img/on-prem/030.alert_template.png)
  
템플릿 편집 화면을 통해 발송 포맷을 변경할 수 있습니다.
  
:::note
템플릿 포맷을 Velocity Template 의 포맷을 활용합니다.
:::
![031.alter_template_edit.png](/img/on-prem/031.alter_template_edit.png)
  
### 14.2. 알림 로그
알림 발송 이력을 관리하여, 사용자가 알림을 수신하지 못한 경우 등에 대한 추적성을 확보합니다.

:::note
사용자로 부터 이벤트가 발생했는데 알림을 수신하지 못했다는 문의가 접수될 경우, 본 화면을 활용하여 알림이 발생한 시각과 알림 유형 및 사용자에게 발행된 알림 유형을 확인합니다.
:::
  
시작 시간과 종료 시간 및 프로젝트 코드를 지정하고 검색 버튼을 클릭하여 프로젝트 별 알림 발생 건수를 확인합니다.
조회된 프로젝트 별 알림 발생 건수 중, 확인하고자 하는 프로젝트를 선택하면 우측에 시간대별 알림 발생 이력이 조회됩니다.
![032.alert_log.png](/img/on-prem/032.alert_log.png)
  
개별 발생 건을 클릭하면 상세 발송 내역이 표시됩니다.
  
알림 발송 서버가 이벤트를 수신한 시각으로 부터 개별 채널로 알림 발송을 시도한 내역 및 성공 / 실패 여부가 표시됩니다.
![033.alert_log_sent.png](/img/on-prem/033.alert_log_sent.png)
  
### 14.3. 유지보수 계획 (서버)
메인티넌스 작업 중 알림 발행을 일괄 억제하기 위한 기능으로 현재 기준으로 서버 모니터링을 활용중인 프로젝트를 대상으로 대상 서버까지 지정하여 알림 발행을 제한하기 위한 기능입니다.
![034.maintenance_server.png](/img/on-prem/034.maintenance_server.png)
  
### 14.4. 유지보수 계획 (프로젝트)
메인티넌스 작업 중 알림 발행을 일괄 억제하기 위한 기능으로 현재 기준으로 프로젝트 단위로 알림 발행을 제한하기 위한 기능입니다.
![044.maintenance_project.png](/img/on-prem/044.maintenance_project.png)
  
대상 프로젝트 선택 후, 우측의 “추가" 버튼을 클릭하여 유지보수 계획을 등록합니다.
![스크린샷 2022-09-07 19.55.51.png](/img/on-prem/BA_2022-09-07_19.55.51.png)
  
### 14.5. 긴급 차단
모든 알림 발행을 일괄 차단하기 위한 기능으로, 긴급 메인티넌스 작업 발생 시 혹은 오탐 알림의 대량 발생 등의 상황에서 활용하기 위한 기능입니다.
![046.emergency_stop_alert.png](/img/on-prem/046.emergency_stop_alert.png)
  

## 15. 공지 설정
사용자 로그인 후 프로젝트 진입 시점에 노출될 공지사항을 관리하기 위한 기능입니다.

![047.notice.png](/img/on-prem/047.notice.png)

“생성" 버튼을 클릭하여 신규 공지사항을 등록하거나, 기존 목록의 “수정" 버튼을 클릭하여 기존 설정 내역을 수정할 수 있습니다.

제목, 설명, 언어, 우선도 (공지 등록 건수가 여러 건일 경우 노출 우선 순위), 입력 유형 (확인, 동의, 값, 무제한), 대상 (수퍼관리자, 초대된 멤버), 공지 사항 본문을 관리합니다.

:::note
입력 유형에 따라 버튼 혹은 입력 창이 표시됩니다.
확인 : 확인 / 취소 버튼
동의 : 거절 / 승낙 버튼
값 : 입력 창
무제한 : 취소 버튼 (반복해서 공지 사항이 노출됨)

:::

![048.notice_edit.png](/img/on-prem/048.notice_edit.png)

![049.notice_edit_save.png](/img/on-prem/049.notice_edit_save.png)

## 16. 설정

### 16.1. 서버 라이선스
수집 서버의 라이선스 정보 및 사용량 현황을 표시합니다. 
  
수집 서버는 제품 유형에 따라 데이터를 전송하는 에이전트 수, 에이전트가 탑재된 장비의 CPU Core 수, 데이터 전송량 등에 근거하여 라이선스에 부여된 사용량을 초과하여 활용되는 경우 화면 접근을 차단하도록 동작합니다.
  
:::note
본 문서는 “라이선스 V2”를 기준으로 작성되었습니다.
:::
  
상단에는 발급된 라이선스 정보 및 라이선스 키 입력 란이 표시되며, 라이선스를 교체 입력 후 “저장” 버튼을 클릭하여 라이선스를 업데이트 할 수 있습니다.
  
중단에는 발급된 라이선스 정보와 현재 사용량 정보를 표시합니다.
  
하단에는 프로젝트 별 사용량 현황을 표시합니다.
  
![050.license.png](/img/on-prem/050.license.png)
  
상단의 “상세" 버튼을 클릭하면 발급된 라이선스의 유효 기간 및 허용량을 확인 할 수 있습니다.
  
:::note
[수정 필요]
서버 액세스 키 ⇒ “서버 라이선스”
:::
![051.license_detail.png](/img/on-prem/051.license_detail.png)
  
### 16.2. 로고 및 알림음
로그인 페이지에 표시되는 로고, 로그인 후 좌상단에 표시되는 로고 이미지를 사용자가 원하는 이미지로 교체하거나, 알림음을 교체할 수 있습니다.
![052.logo_sound.png](/img/on-prem/052.logo_sound.png)
  
“업로드" 버튼을 클릭하여, SVG, PNG, JPG, JPEG 포맷의 규격에 맞는 로고 이미지를 업로드 하여 로고를 변경하거나, MP3 파일을 업로드 하여 알림음을 변경할 수 있습니다.
  
:::note
로고 및 사운드 변경 후에는 로그 아웃 후 다시 로그인 합니다.
브라우저 캐시로 인해 로고 및 사운드가 변경되지 않을 수 있으므로, 브라우저 캐시를 제거 후 리프레쉬 합니다.
알림음의 경우 브라우저에서 사용자의 권한을 필요로 하는 경우가 있어, “스피커" 아이콘을 클릭하여 알림음이 정상적으로 울리는지 확인합니다.
:::
  
### 16.3. SMTP 설정
:::note
Notihub 의 SMTP 정보를 업데이트 하는 용도로 활용됩니다.
:::
  
SMTP 설정을 관리하기 위한 기능입니다.
SMTP 설정을 등록하고, 테스트 이메일을 입력 후 “송신" 버튼을 클릭하여 이메일의 정상 발송 여부를 테스트 할 수 있습니다.
![053.smtp.png](/img/on-prem/053.smtp.png)
  
### 16.4. 데이터 유지기간
제품 유형별 데이터 보존 기간, 마스터 야드 할당 개수, 저널 야드 할당 개수의 기본 설정 기능과 데이터 보존 기간의 일괄 변경 기능을 제공합니다.
  
:::note
야드 - 수집서버 마이크로 애플리케이션 중 데이터 저장을 담당하는 애플리케이션 입니다. 마스터/레플리카/저널 야드로 구분됩니다. 
마스터 야드 - 데이터 저장 역할 뿐만 아니라 통계 데이터 생성 및 저장, 데이터 읽기 기능을 제공할 수 있는 저장소 입니다. 읽기 용도로도 활용됩니다.
레플리카 야드 - 마스터 야드와 동일한 역할의 저장소 이지만, 읽기 용도로 활용되지 않습니다.
저널 야드 - 백업 데이터 저장을 위한 용도로 부가적인 데이터를 생성하지 않는 저장소 입니다. 마스터 야드로의 데이터 복구 시에 활용됩니다.
:::
  
상단 dropdown 선택을 통해 제품 유형을 선택할 수 있습니다.
- APM - 애플리케이션 모니터링
- INFRA - 서버 모니터링
- DB - 데이터베이스 모니터링
- WPM - URL 모니터링
- CPM - 컨테이너 모니터링
  
좌측 패널에는 제품 유형별 하기 항목의 기본 설정을 변경할 수 있는 기능을 제공합니다. 수정 후 “수정" 버튼을 통해 변경 사항을 반영합니다. 
  
- 마스터(RW) 야드 / 레플리카(보관 기간만 짧음, 마스터 동일) 야드
  - 데이터 보존기간
  - 5분 데이터 보존기간
  - 1시간 데이터 보존기간
  - 프로파일 데이터 보존기간
  - 프로젝트 생성 시 할당될 야드 수
- 저널 야드 - 복구용 RAW 데이터만 저장
  - 데이터 보존 기간
  - 프로젝트 생성 시 할당될 야드 수
  
:::note
레플리카 할당은 프로젝트 화면에서 “Replica” 버튼을 통해 지정할 수 있습니다.
:::
  
우측 패널에는 제품 유형 및 프로젝트 상태별로 마스터 야드의 데이터 보존기간을 일괄 변경할 수 있는 기능을 제공합니다.
  
프로젝트 상태, 마스터 야드의 데이터 보존기간, 저널 야드의 데이터 보존기간을 입력 후 “수정" 버튼을 통해 일괄 변경이 가능합니다.
  
![054.data_retension1.png](/img/on-prem/054.data_retension1.png)
  
![055.data_retension2.png](/img/on-prem/055.data_retension2.png)
  
### 16.5. 서버 업데이트
수집 서버의 업데이트 진행 시, 화면을 통해 업데이트를 진행하고자 할 때 활용하는 기능으로 각 마이크로 애플리케이션 용 Jar 파일을 업로드 할 수 있습니다.
  
:::note
자원의 업로드만을 제공하며, 해당 애플리케이션의 재시작은 별도로 수행하여야 합니다.
:::
  
보고서 템플릿을 수집 서버에 추가로 탑재하여야 할 경우, 와탭 보고서 파일 업로드의 “업로드" 버튼을 활용하여 보고서를 탑재할 수 있습니다.
![056.server_update.png](/img/on-prem/056.server_update.png)
  
### 16.6. 접근 제어
화이트 리스트 기반으로 프로젝트 상태 및 권한 별 URL의 접근 제한을 적용하기 위한 기능을 제공합니다.
  
접근 제한 목록은 프로젝트 상태 별로 어떤 권한의 멤버에게 접근을 차단할 것인가를 의미합니다.
![057.access_control.png](/img/on-prem/057.access_control.png)

“접근 제어 편집" 또는 “접근제어 설정 추가" 버튼을 클릭하면 URL, 접근을 제한할 프로젝트 멤버 권한, 프로젝트 상태를 선택하고 허용을 false(비허용) 으로 선택하고 “저장" 버튼을 통해 추가 및 편집합니다.
![058.access_control_edit.png](/img/on-prem/058.access_control_edit.png)
  
### 16.7. 서버 제어
서버 간의 설정 동기화 등 서버 제어와 관련한 기능을 제공합니다.

- 이벤트 설정 동기화   
  복수의 마스터 Yard 가 할당된 프로젝트의 경우 서버 사이드 알림 설정이 마스터 Yard에 보관되기 때문에, 이들 설정이 동일하게 관리되어야 합니다.
  
  다양한 원인에 의해 알림 설정의 불일치가 발생한 경우, 이를 동기화하여 일치시킬 수 있습니다.
  
:::note
복수의 마스터 Yard 중 이벤트 설정 Flag (Yard의 project.conf)가 활성화 된 Yard에서만 이벤트를 발행합니다. 
복수의 마스터의 알림 설정 ID (yardbase 하위에 프로젝트 별로 저장됨)를 머지하여 동기화 합니다.
:::
![059.server_control.png](/img/on-prem/059.server_control.png)
  

## 17. 연계 관리

서비스 연계를 통해 유사 Single Sign On 기능을 제공합니다.

실질적으로는 Single Sign On이 아닌, 휘발성 Token 기반 로그인 기능으로, 계정 단위로 유효 기간을 가진 휘발성 토큰을 발급하여 해당 Token으로 접근 시 자동 로그인을 제공합니다.

### 17.1. 서버스 연계
서비스 연계 대상 시스템을 관리합니다.

연계 대상 시스템 단위로 서비스 링크 코드, 사전 인증 코드, 공개 키, 비밀 키를 필수 정보로 관리하고, 부가적으로 CSP 환경 변수, 리퍼러 회사 코드, 비고 등의 정보를 관리합니다.
![060.service_link.png](/img/on-prem/060.service_link.png)
  
“수정" 또는 “추가” 버튼을 클릭하여 신규 등록 또는 등록된 정보를 편집합니다.
- 서비스 링크 코드 - 연계 대상 식별용 문자열
- 사전 인증 코드 - 연계 시스템으로 부터 와탭에의 로그인 시, 헤더에 포함되어야 할 인증 키 값
- 리퍼러 회사 코드 - 연계 시스템과 관련한, 할인 프로모션 등을 진행하고자 할 경우 사용자 계정과의 연관성 확보를 위한 키로 회원 가입 시에 입력 가능
:::note
현재 활용하고 있지 않음
:::
- CSP 환경변수 - 연계 대상 시스템이 CSP (Cloud Service Provider)인 경우, 미터링에서 대상 시스템을 특정하기 위한 문자열
- 공개 키 - 토큰 취득 등 API 호출 시 암호화에 활용되는 키
- 비밀 키 - API 호출 정보 복호화에 활용되는 키
- 비고
- 트라이얼 일자
- 트라이얼 최대 프로젝트 수
- 로고 URL - 서비스 연계를 통해 로그인 시, 와탭 로고 대신 연계 시스템의 로고를 표시하고자 할 경우 로고 URL을 지정함
- 백링크 URL - 서비스 연계 에러가 발생했을 때, 연계 대상 시스템으로 돌아가기 위한 하이퍼링크 제공 대상 URL
- 프로젝트 생성 권한 - 서비스 연계를 통해 로그인 한 계정이 프로젝트 생성 가능하도록 할 지의 여부
- 자동 유료 전환 - 서비스 연계를 통해 로그인 한 계정이 프로젝트를 생성했을 때 자동으로 유료 상태로 설정할 지의 여부
![061.service_link_edit.png](/img/on-prem/061.service_link_edit.png)
  
### 17.2. 토큰 관리
서비스 연계 기능에 의해 토큰 기반으로 로그인을 수행한 정보를 관리합니다. 토큰이 발급 또는 갱신된 시점에 만료 일시에 대한 정보를 가집니다.
  
:::note
각 토큰은 발급 시점 기준으로 만료 기한 가지고 있으며, 만료 시점을 가진 토큰을 삭제하여 무효화 할 수 있습니다.
:::
  
![062.token.png](/img/on-prem/062.token.png)
  

## 18. 결제 관리

:::note
빌링 시스템을 구축한 경우에만 활용 가능합니다.

:::

### 18.1. 프로젝트 유료 전환
프로젝트의 유료 전환 여부 관리를 위한 기능으로, 특정 계정이 빌링 권한을 가진 프로젝트의 전체 목록 및 유료 전환 여부를 표시하고, 프로젝트의 최근 미터링 데이터를 기준으로 월 청구 예상 금액을 표시합니다.
  
:::note
예상비용 상세에 현재 시간 기준으로 2시간 전 ~ 1시간 전 사이의 미터링 데이터를 기준으로 월 사용량 산출 기준을 추출한 내역이 표시됩니다.
이를 기준으로 월간 예상비용을 산출하여 표현합니다.
:::
  
:::note
사용자의 이용 내역 페이지에도 동일한 기능을 제공하는 페이지가 있으며, 사용자 페이지에는 프로젝트를 “유료"로 변경할 수 있는 기능을 제공합니다.
:::
![063.subscription.png](/img/on-prem/063.subscription.png)
  
### 18.2. 청구 관리
빌링 시스템의 청구 관리 기능을 제공하기 위한 페이지로, 특정 계정이 빌링 권한을 가진 프로젝트의 전체 목록 및 프로젝트의 상태(유료 전환 여부)를 표시합니다. 
  
:::note
본 화면은 빌링 시스템에서 제공하는 청구서 생성 기능 제공을 목적으로 합니다. 현재는 본 페이지를 통해 청구서 생성 기능을 제공하고 있지 않습니다.
:::
![064.invoice_management.png](/img/on-prem/064.invoice_management.png)
  
### 18.3. 청구서
발행된 청구서를 관리하기 위한 기능으로, 청구 데이터 목록을 제공합니다. 
청구 데이터에는 월별 사용액, 미납액, 청구액 등의 요약 정보를 표시합니다.
  
- 사용액 - 할인 적용 전 사용액
- 미납 - 전원 미납금
- 청구액 - 해당월 청구액
  
발행된 청구서가 존재할 경우 “청구서 다운로드" 버튼을 클릭하여 사용자에게 발행된 청구서를 확인할 수 있습니다.
![065.invoices.png](/img/on-prem/065.invoices.png)
  
### 18.4. 사용량
프로젝트 별 사용량을 확인하고자 할 경우, 확인 대상 월을 선택하고, 프로젝트의 빌링 권한을 가진 사용자 이메일을 입력하여 프로젝트 목록을 검색한 후, “사용량" 버튼을 클릭하여 화면 하단에 노출되는 미터링 정보를 확인할 수 있습니다. 
  
- 상세 - 미터링 상세 정보 중, 에이전트 식별을 필요로 하는 정보의 경우 상세 정보를 제공
  - 서버 모니터링의 호스트명, IP
  - 애플리케이션 모니터링 탑재 호스트 및 에이전트 명, IP
  - DB 모니터링의 대상 DB 접속 URL 또는 IP
- 호스트
  - 에이전트가 탑재된 전체 호스트 수
- 에이전트
  - 전체 에이전트 수
- 미터링 코어
  - 전체 호스트 코어 수
- URL 수
  - URL 모니터링의 등록 URL 수
- Log 수
  - Log 모니터링의 집계 라인 수
- Dimension 수
  - Cloud 모니터링의 Diemsion 수
- 컨테이너 개수
  - ECS 모니터링의 컨테이너 수   
  ![066.metering.png](/img/on-prem/066.metering.png)

## 19. 관계 토폴로지

:::note
실험적 기능으로 수집 서버의 정상 동작 여부와 무관한 기능입니다.
:::

마이크로 서비스 애플리케이션으로 구성된 수집서버의 구조를 토폴로지로 들여다 보기 위한 기능을 제공합니다.

좌측 영역에는 토폴로지를 그리는데 사용되는 데이터가 표시되고, 우측에는 시각화된 토폴로지를 표시합니다.

화면 진입 시 최초에는 마이크로 애플리케이션인 eureka 와 통신 관계에 있는 서버(front, account, flexreport, crane, notihub, machine-learning, region) 정보가 표시됩니다.

region에 해당하는 노드를 더블클릭 할 경우, 해당 region에 포함된 서버(keeper, proxy, yard) 가 표시되며, 연관 관계가 표시됩니다.

![067.topology.png](/img/on-prem/067.topology.png)

## 20. 대시보드 관리

통합 메뉴의 대시보드 관리 기능을 제공합니다. 

![068.dashboard.png](/img/on-prem/068.dashboard.png)

- 검색 조건
  - 관리 대상 : 조회하고자 하는 대시보드 메뉴를 선택합니다.
    - Flex 보드
      
      :::note
      대시보드 관리 메뉴에선 사용자 계정에 저장된 ‘통합 메뉴의 Flex 보드’ 관리 기능을 제공합니다.
      프로젝트 Flex 보드의 경우 해당 프로젝트 내에서만 조회가 가능하며, 사이트관리자의 대시보드 관리 메뉴에서는 다루지 않습니다.
      
      :::
      
    - 통합 대시보드
    - 통합 메트릭스 보드
  - 대시보드 명 : 대시보드 이름을 검색합니다.
  - 이메일 : 대시보드를 생성한 사용자 계정의 이메일을 입력합니다.
- 관리 기능
  - 수정 : 등록된 대시보드 수정을 위해서는 “수정" 버튼을 클릭하여 메타 정보를 수정할 수 있습니다.
    - Widgets : 대시보드에 저장된 위젯을 편집합니다.
      
      ![069.widget.png](/img/on-prem/069.widget.png)
      
    - Extra : 필터, 시간 선택 상태 등 대시보드 옵션을 편집합니다.
      
      ![070.extra.png](/img/on-prem/070.extra.png)
      
- “삭제" 버튼을 클릭하면 해당 대시보드가 삭제됩니다.
- 본인(사이트 관리자)이 생성한 대시보드의 경우 “열기" 버튼이 표시됩니다. 해당 버튼을 클릭하면 별도 탭으로 해당 대시보드가 열립니다.

## 21. 메트릭스

- MXQL 목록
  
  Flex 보드를 구성하는 위젯은 각 위젯에 매핑된 MXQL을 필요로 합니다.
  
  수집 서버에 MXQL을 신규로 등록하거나, 이미 등록되어 있는 MXQL을 확인하고 편집하기 위한 기능을 제공합니다. 
  
  ![071.mxql.png](/img/on-prem/071.mxql.png)
  
- MXQL 데이터 조회
  
  MXQL을 신규로 작성하여 데이터 로드 테스트를 수행하거나, 기 등록되어 있는 실행하여 데이터 로딩 가능 여부를 확인하는 기능으로 좌상단에 대상 프로젝트를 선택하고, 조회 대상 시간 범위를 선택한 후, 실행할 MXQL을 작성한 후, 좌하단의 “검색" 버튼을 클릭하면 우측에서 RAW 데이터를 조회하여 확인할 수 있습니다.
  
  ![072.mxql_loaddata.png](/img/on-prem/072.mxql_loaddata.png)
  
  기 등록되어 있는 MXQL을 실행하여 확인하고자 할 경우, “메트릭스 탐색" 버튼을 클릭하면 화면 좌측에 기 등록된 MXQL이 표시되며, 확인하고자 하는 MXQL을 클릭하면 해당 MXQL이 로딩되어 데이터가 조회됩니다.
  
  ![073.mxql_use.png](/img/on-prem/073.mxql_use.png)
  
- 메트릭스 리빌드
  
  메트릭스 데이터 중 통계 정보를 필요로 하는 데이터의 빌드를 필요로 하는 경우, 본 화면을 통해 빌드 작업을 수행합니다. 통상적으로 Yard 서버에서 자동으로 빌드가 수행되어 통계 정보가 생성되지만, 통계 정보가 정상적으로 생성되지 않은 경우에 한하여 본 기능을 활용할 수 있습니다.
  
  :::note
  메트릭스 통계 데이터를 생성하는 작업을 통계 빌드라 합니다.
  장애 혹은 데이터 복구 시에, 메트릭스 통계 데이터가 생성되어 있지 않은 경우, 이를 생성할 필요가 있습니다.
  
  :::
  
  ![074.metrics_rebuild.png](/img/on-prem/074.metrics_rebuild.png)
  

## 22. 게시판

설치형 유지보수 시에 특이사항 등을 기록하여 활용하기 위한 게시판 기능으로 제목, 본문, 파일 첨부 기능을 제공합니다.

![075.board.png](/img/on-prem/075.board.png)

“추가" 버튼을 통해 신규 게시물을 등록하거나, 기 등록된 게시물을 클릭하여 상세 내용을 확인 및 “편집" 할 수 있습니다.

![076.board_item_edit.png](/img/on-prem/076.board_item_edit.png)

## 23. 통합 모니터링 사용 현황

클라우드 모니터링 및 로그 모니터링의 사용현황 파악을 위해 데이터를 조회할 수 있습니다.

“클라우드 모니터링" 탭을 클릭하면 프로젝트 별로 클라우드 모니터링 중 어떤 수집 설정이 활성화 되었는지의 정보가 표시됩니다.

![077.integration_usage.png](/img/on-prem/077.integration_usage.png)

“로그” 탭을 클릭하시면 프로젝트 별로 로그 모니터링의 유료 과금 시작 시점 및 수집된 로그 라인 수 정보가 표시됩니다.

![078.integration_usqge2.png](/img/on-prem/078.integration_usqge2.png)
